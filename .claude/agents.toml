# Medli Agent Dispatch Table
# Main conversation uses this to: detect package, brief agent, provide reading list

[agents.spec]
patterns = ["packages/spec/**"]
brief = "Frame spec types and validation. The intermediate representation contract between generators and renderers."
reading_list = ["docs/ARCHITECTURE.md", "packages/spec/AGENT.md"]

[agents.generator-procedural]
patterns = ["packages/generators/procedural/**"]
brief = "Opinionated, p5.js-inspired imperative sketch API. Transforms imperative function calls into Frame spec IR."
reading_list = ["docs/ARCHITECTURE.md", "packages/generators/AGENT.md", "packages/generators/procedural/AGENT.md"]

[agents.generator-object]
patterns = ["packages/generators/object/**"]
brief = "Opinionated, three.js-inspired declarative scene graph API. Transforms object references into Frame spec IR."
reading_list = ["docs/ARCHITECTURE.md", "packages/generators/AGENT.md", "packages/generators/object/AGENT.md"]

[agents.generator-remote]
patterns = ["packages/generators/remote/**"]
brief = "Remote Frame fetcher. Polls a URL for Frame JSON, implements Generator interface for use with renderers."
reading_list = ["docs/ARCHITECTURE.md", "packages/generators/AGENT.md", "packages/generators/remote/AGENT.md"]

[agents.generator-utils]
patterns = ["packages/generators/utils/**"]
brief = "Shared utilities for generators - matrix operations."
reading_list = ["docs/ARCHITECTURE.md", "packages/generators/AGENT.md", "packages/generators/utils/AGENT.md"]

[agents.generator-validator]
patterns = ["packages/generators/validator/**"]
brief = "Pipeline generator for frame validation. Wraps upstream generator, throws on invalid frames."
reading_list = ["docs/ARCHITECTURE.md", "packages/generators/AGENT.md", "packages/generators/validator/AGENT.md"]

[agents.generator-optimizer]
patterns = ["packages/generators/optimizer/**"]
brief = "Pipeline generator for frame optimization. Merges transforms, squashes materials, removes unused nodes."
reading_list = ["docs/ARCHITECTURE.md", "packages/generators/AGENT.md", "packages/generators/optimizer/AGENT.md"]

[agents.renderer-common]
patterns = ["packages/renderers/common/**"]
brief = "Shared renderer functionality including animation loop management."
reading_list = ["docs/ARCHITECTURE.md", "packages/renderers/common/AGENT.md"]

[agents.renderer-svg]
patterns = ["packages/renderers/svg/**"]
brief = "SVG DOM renderer. Consumes Frame spec, produces SVG elements."
reading_list = ["docs/ARCHITECTURE.md", "packages/renderers/svg/AGENT.md"]

[agents.renderer-canvas]
patterns = ["packages/renderers/canvas/**"]
brief = "Canvas 2D renderer. Consumes Frame spec, produces Canvas draw calls."
reading_list = ["docs/ARCHITECTURE.md", "packages/renderers/canvas/AGENT.md"]

[agents.renderer-webgl]
patterns = ["packages/renderers/webgl/**"]
brief = "WebGL 2 renderer. Consumes Frame spec, produces WebGL draw calls using TWGL.js and SDF shaders."
reading_list = ["docs/ARCHITECTURE.md", "packages/renderers/webgl/AGENT.md", "packages/renderers/webgl/DESIGN.md"]

[agents.renderer-webgpu]
patterns = ["packages/renderers/webgpu/**"]
brief = "WebGPU renderer. Consumes Frame spec, produces WebGPU render commands using TypeGPU."
reading_list = ["docs/ARCHITECTURE.md", "packages/renderers/webgpu/AGENT.md", "packages/renderers/webgpu/DESIGN.md"]

[agents.test-app]
patterns = ["packages/test-app/**"]
exclude = ["packages/test-app/dist/**"]
brief = "Visual verification app. Displays all generator/renderer combinations for Playwright comparison."
reading_list = ["docs/ARCHITECTURE.md", "packages/test-app/AGENT.md"]
